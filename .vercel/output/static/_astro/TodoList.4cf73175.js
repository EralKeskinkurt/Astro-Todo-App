import{j as l}from"./jsx-runtime.b9e88e07.js";import{R as s,r as d}from"./index.03be2d59.js";var f={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},m=s.createContext&&s.createContext(f),o=globalThis&&globalThis.__assign||function(){return o=Object.assign||function(t){for(var a,r=1,e=arguments.length;r<e;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},o.apply(this,arguments)},y=globalThis&&globalThis.__rest||function(t,a){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&a.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)a.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};function h(t){return t&&t.map(function(a,r){return s.createElement(a.tag,o({key:r},a.attr),h(a.child))})}function g(t){return function(a){return s.createElement(x,o({attr:o({},t.attr)},a),h(t.child))}}function x(t){var a=function(r){var e=t.attr,n=t.size,c=t.title,v=y(t,["attr","size","title"]),u=n||r.size||"1em",i;return r.className&&(i=r.className),t.className&&(i=(i?i+" ":"")+t.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,e,v,{className:i,style:o(o({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&s.createElement("title",null,c),t.children)};return m!==void 0?s.createElement(m.Consumer,null,function(r){return a(r)}):a(f)}function j(t){return g({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(t)}function p(t){return g({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z"}}]})(t)}function b(){const[t,a]=d.useState(null);d.useEffect(()=>{(async()=>{const n=await(await fetch("/api/controller",{method:"GET"})).json();console.log(JSON.parse(n?.todo.value)),a(JSON.parse(n?.todo.value))})()},[]);const r=async e=>{const n=t.filter(c=>c.todoId!==e);await fetch("/api/controller",{method:"POST",body:JSON.stringify(n)}),a(n)};return l.jsx("ul",{className:"todo-list",children:t?.map(e=>l.jsxs("li",{className:"todo-list-item",children:[l.jsx("span",{children:e.todoName}),l.jsxs("span",{className:"action-group",children:[l.jsx("a",{href:"/update/"+e.todoId.toString(),children:l.jsx(p,{className:"action-edit"})})," ",l.jsx(j,{onClick:()=>r(e.todoId),className:"action-delete"})]})]},e.todoId))})}export{b as default};
